<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/templates/default.xhtml"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	<ui:define name="content">

		<h:form id="personForm">
		<BR/>
		<BR/>
			<h:panelGrid columns="2" width="400px">

				<h:outputText value="#{msg.personSpecLabel}" />
				<rich:inplaceSelect id="spec" value="#{personBean.person.spec}"
					required="#{true}" openOnEdit="true" style="width:220px;">
                <f:selectItem itemValue="piekarz - torty" itemLabel="piekarz - torty" />
                <f:selectItem itemValue="piekarz - muffiny" itemLabel="piekarz - muffiny" />
                <f:selectItem itemValue="piekarz - ciasta" itemLabel="piekarz - ciasta" />
                <f:selectItem itemValue="piekarz - ciastka" itemLabel="piekarz - ciastka" />
                <f:selectItem itemValue="piekarz - zamówienia specjalne" itemLabel="piekarz - zamówienia specjalne" />
            </rich:inplaceSelect>
       
				

				<h:outputText value="#{msg.personFirstNameLabel}" />
				<h:inputText id="firstName" value="#{personBean.person.firstName}"
					required="#{true}" />

				<h:outputText value="#{msg.personSurNameLabel}" />
				<h:inputText id="surName" value="#{personBean.person.surName}"
					required="#{true}" />
					
					<h:outputText value="#{msg.personDobLabel}" />
				<rich:calendar value="#{personBean.person.dateOfBirth}"
					id="dob" datePattern="dd.MM.yyyy" showApplyButton="#{true}"
					cellWidth="24px" cellHeight="22px" style="width:200px">
					<a4j:ajax render="messages" execute="@this" />
				</rich:calendar>
					
				<h:outputText value="#{msg.personPinLabel}" />
				<h:inputText id="pin" value="#{personBean.person.pin}"
					validator="#{personBean.uniquePin}" required="#{true}">
					<f:validator validatorId="pinValidator" />
					<f:ajax execute="@this" render="messages beanState" />
				</h:inputText>
				

				<h:outputText value="#{msg.personAddressLabel}" />
				<h:inputTextarea id="address" rows="5" cols="18" value="#{personBean.person.address}"
					required="#{true}"/>

				<h:outputText value="#{msg.personZipCodeLabel}" />
				<h:inputText id="zipCode" value="#{personBean.person.zipCode}" />

				
				

			</h:panelGrid>
			<BR/>
			<h:commandButton value="#{msg.personFormOKButton}"
				action="#{personBean.addPerson}" />

			<BR/>
			<h:panelGrid>
				<h:messages id="messages" showDetail="#{true}"
					showSummary="#{false}" />
			</h:panelGrid>

			<h:panelGrid id="beanState" columns="2">
				<h:outputText value="#{msg.personFirstNameLabel}" />
				<h:outputText id="nameOutput" value="#{personBean.person.firstName}" />

				<h:outputText value="#{msg.personPinLabel}" />
				<h:outputText id="pinOutput" value="#{personBean.person.pin}" />

				<h:outputText value="#{msg.personDobLabel}" />
				<h:outputText id="dobOutput"
					value="#{personBean.person.dateOfBirth}" />
			</h:panelGrid>

		</h:form>
	</ui:define>
</ui:composition>